!function(a){a.fn.mailAutoComplete=function(b){var c={className:"emailist",email:["qq.com","gmail.com","126.com","163.com","hotmail.com","yahoo.com","yahoo.com.cn","live.com","sohu.com","sina.com"],zIndex:11},d=a.extend({},c,b||{}),e="number"==typeof window.screenX,f="visibility",g={up:38,down:40,enter:13,esc:27,tab:9},h=function(b){var c="",e=b.value.split("@"),f=[];return a.each(d.email,function(a,b){(2!==e.length||""===e[1]||0===b.indexOf(e[1].toLowerCase()))&&f.push(b)}),a.each(f,function(a,d){c=c+"<li"+(b.indexSelected===a?' class="on"':"")+">"+e[0]+"@"+d+"</li>"}),c},i=function(b,c){var d=a.trim(this.value),e="";""===d||""===(e=h(this))?b.css(f,"hidden"):(c&&(this.indexSelected=-1),b.css(f,"visible").html(e))};return a(this).each(function(){var b={email:{minLength:1,maxLength:40,lengthError:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740",pattent:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/i,ruleError:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740"}};this.indexSelected=-1;var c=this,j=a("<ul></ul>").css({position:"absolute",marginTop:0,minWidth:c.offsetWidth-2,visibility:"hidden",zIndex:d.zIndex}).addClass(d.className).bind("click",function(d){var e=d&&d.target;e&&"li"===e.tagName.toLowerCase()&&(a(c).val(e.innerHTML).trigger("input"),a(c).focus(),c.setting=M.extend(c.setting,b.email),a(this).css(f,"hidden"))});a(this).after(j),window.XMLHttpRequest||j.width(c.offsetWidth-2),e?a(this).bind("input",function(){i.call(this,j,!0)}):c.attachEvent("onpropertychange",function(a){"value"===a.propertyName&&i.call(c,j,!0)}),a(document).bind({click:function(a){var b=a&&a.target,e="";b==c&&c.value&&(e=h(c,d.email))?j.css(f,"visible").html(e):b!=j.get(0)&&b.parentNode!=j.get(0)&&j.css(f,"hidden")},keydown:function(b){var d=j.find("li");if("visible"===j.css(f)){switch(b.keyCode){case g.up:c.indexSelected--,c.indexSelected<0&&(c.indexSelected=-1+d.length),b.preventDefault&&b.preventDefault();break;case g.down:c.indexSelected++,c.indexSelected>=d.length&&(c.indexSelected=0),b.preventDefault&&b.preventDefault();break;case g.enter:b.preventDefault(),d.get(c.indexSelected)&&a(c).val(d.eq(c.indexSelected).html()),j.css("visibility","hidden");break;case g.tab:case g.esc:j.css("visibility","hidden")}-1!==c.indexSelected&&j.html(h(c))}}})})}}(jQuery);
/*LDZ:2013-10-24 23:12:02*/